<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta name="theme-color" content="">

    <title>{% block title %}{{ 'apps.title'|trans({}, 'main') }}{% endblock %}</title>

    {% block headers %}

        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}"/>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,600" rel="stylesheet">

        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

    {% endblock %}

    {% block stylesheets %}

        {% stylesheets
        'asset/css/*'
        filter='cssrewrite' %}
        <link rel="stylesheet" href="{{ asset_url }}"/>
        {% endstylesheets %}

    {% endblock %}
</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

{% block navigation %}

    <nav class="navbar navbar-toggleable-md navbar-inverse fixed-top bg-inverse">
        <div class=" container">
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="{{ path('homepage') }}">
                <img src="{{ asset('asset/img/30x30lq.png') }}" width="30"
                     height="30" alt="Logo">
            </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <div class="navbar-nav">
                    <a class="nav-item nav-link" href="{{ path('homepage') }}">Start</a>
                    <a class="nav-item nav-link page-scroll" href="{{ path('homepage') }}#about">O nas</a>
                    <a class="nav-item nav-link page-scroll" href="{{ path('homepage') }}#services">Us≈Çugi</a>
                    <a class="nav-item nav-link page-scroll" href="{{ path('homepage') }}#price">Cennik</a>
                    <a class="nav-item nav-link page-scroll" href="{{ path('homepage') }}#contact">Kontakt</a>
                </div>
            </div>
            <div class="navbar-nav">
                {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                    <a class="nav-link"
                       href="#">{{ 'layout.logged_in_as'|trans({'%username%': app.user.username}, 'main') }}</a>
                    <a class="nav-link"
                       href="{{ path('fos_user_security_logout') }}">{{ 'layout.logout'|trans({}, 'main') }}</a>
                {% else %}
                    <a class="nav-link"
                       href="{{ path('fos_user_security_login') }}">{{ 'layout.login'|trans({}, 'main') }}</a>
                    <a class="nav-link"
                       href="{{ path('fos_user_registration_register') }}">{{ 'layout.register'|trans({}, 'main') }}</a>
                {% endif %}
            </div>
        </div>
    </nav>

{% endblock %}

{% block header %}{% endblock %}

{% block fos_user_content %}{% endblock %}

{% block body %}{% endblock %}

{% block footer %}{% endblock %}

{% block javascripts %}

    <script>
        $(window).scroll(function () {
            if ($(".navbar").offset().top > 50) {
                $(".navbar-fixed-top").addClass("top-nav-collapse");
            } else {
                $(".navbar-fixed-top").removeClass("top-nav-collapse");
            }
        });

        $(function () {
            $(document).on('click', 'a.page-scroll', function (event) {
                var $anchor = $(this);
                $('html, body').stop().animate({
                    scrollTop: $($anchor.attr('href')).offset().top
                }, 1500, 'easeInOutExpo');
                event.preventDefault();
            });
        });

        $(document).ready(function () {
            (function () {
                var $tagInput = $('input[name$="[tagsText]"]');

                function tags($input) {
                    $input.attr('type', 'hidden').select2({
                        tags: true,
                        tokenSeparators: [","],
                        createSearchChoice: function (term, data) {
                            if ($(data).filter(function () {
                                    return this.text.localeCompare(term) === 0;
                                }).length === 0) {
                                return {
                                    id: term,
                                    text: term
                                };
                            }
                        },
                        multiple: true,
                        ajax: {
                            url: $input.data('ajax'),
                            dataType: "json",
                            data: function (term, page) {
                                return {
                                    q: term
                                };
                            },
                            results: function (data, page) {
                                return {
                                    results: data
                                };
                            }
                        },
                        initSelection: function (element, callback) {
                            var data = [];

                            function splitVal(string, separator) {
                                var val, i, l;
                                if (string === null || string.length < 1) {
                                    return [];
                                }
                                val = string.split(separator);
                                for (i = 0, l = val.length; i < l; i = i + 1) {
                                    val[i] = $.trim(val[i]);
                                }
                                return val;
                            }

                            $(splitVal(element.val(), ",")).each(function () {
                                data.push({
                                    id: this,
                                    text: this
                                });
                            });
                            callback(data);
                        }
                    });
                }

                if ($tagInput.length > 0) {
                    tags($tagInput);
                }
            }());
        });
    </script>

    {% javascripts
    'asset/js/*' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

{% endblock %}

</body>
</html>
